{let t=function(){let t=$("#new-post-form"),s=document.querySelector("#new-post-form");t.submit((function(t){t.preventDefault(),formData=new FormData(s),$.ajax({type:"post",url:"/posts/create",dataType:"json",contentType:!1,processData:!1,data:formData,success:function(t){let s=n(t.data.post);$("#posts-list-container>ul").prepend(s),$("#post-data").val(""),$("#post-pic-choose").val(""),e($(" .delete-post-button",s)),new PostComments(t.data.post._id),new ToggleLike($(" .toggle-like-button",s)),new Noty({theme:"relax",text:"Post published!",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))},n=function(t){return console.log(t),t.pic?$(`<li id="post-${t._id}" style="margin-top: 100px;">\n                <img class="post-image" src="${t.pic}" style=" box-shadow: 4px 4px 7px 7px gray; alt="" height="350" width="350">\n                <p>\n                \x3c!-- <i style="color: #ffc401da; margin-right: 7px;" class="far fa-clone"><span style="width: 50%; height: auto;"></i> --\x3e\n                <big style="font-size: 30px;">\n                    ${t.content}</span>\n                </big> \n                <br>\n                <small style="color: gray;">\n                    <i class="far fa-id-badge"></i>\n                    ${t.user.name}\n                </small>\n                \n                    \n                    \n            </p>\n            \n        \n                <form action="/comments/create" method="POST" id="post-${t._id}-comments-form" >\n                    <input id="comment-data" type="text" name="content" placeholder="Type Here to add comment..." required>\n                    <input type="hidden" name="post" value="${t._id}" >\n                    <button type="submit"> <i class="far fa-comment"></i></button>\n                </form>\n        \n                <span style="position: relative; right: 5px;">\n                \n                <a class="delete-post-button" href="/posts/destroy/${t._id}"> <i class="fas fa-trash-alt"></i></a>\n\n                    <a style="margin-left: 10px;"  href="/likes/toggle/?id=${t._id}&type=Post"\n                        class="toggle-like-button" data-likes="${t.likes.length}">\n                        \n                        <i style=" color: rgb(92, 92, 255);" class="far fa-thumbs-up"></i> ${t.likes.length}\n                    </a>\n            \n                </span>\n                    \n            \n            \n    \n                <div class="post-comments-list">\n                    <ul  id="post-comments-${t._id}" >\n                        \n                    </ul>\n    \n                </div>\n            \n            \n                    </li>`):$(`<li id="post-${t._id}" style="margin-top: 80px;">\n      \n                            <p>\n                                \x3c!-- <i style="color: #ffc401da; margin-right: 7px;" class="far fa-clone"><span style="width: 50%; height: auto;"></i> --\x3e\n                                <big style="font-size: 30px;">\n                                   ${t.content}</span>\n                                </big> \n                                <br>\n                                <small style="color: gray;">\n                                    <i class="far fa-id-badge"></i>\n                                    ${t.user.name}\n                                </small>\n                               \n                                   \n                                     \n                            </p>\n                           \n                          \n                                <form action="/comments/create" method="POST" id="post-${t._id}-comments-form" >\n                                    <input id="comment-data" type="text" name="content" placeholder="Type Here to add comment..." required>\n                                    <input type="hidden" name="post" value="${t._id}" >\n                                    <button type="submit"> <i class="far fa-comment"></i></button>\n                                </form>\n                        \n                                <span style="position: relative; right: 5px;">\n                               \n                                <a class="delete-post-button" href="/posts/destroy/${t._id}"> <i class="fas fa-trash-alt"></i></a>\n\n                                    <a style="margin-left: 10px;"  href="/likes/toggle/?id=${t._id}&type=Post"\n                                        class="toggle-like-button" data-likes="${t.likes.length}">\n                                        \n                                        <i style=" color: rgb(92, 92, 255);" class="far fa-thumbs-up"></i> ${t.likes.length}\n                                    </a>\n                              \n                                </span>\n                                    \n                            \n                            \n                    \n                                <div class="post-comments-list">\n                                    <ul  id="post-comments-${t._id}" >\n                                       \n                                    </ul>\n                    \n                                </div>\n                            \n                            \n                    </li>`)},e=function(t){$(t).click((function(n){n.preventDefault(),console.log(t),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$("#post-"+t.data.post_id).remove(),new Noty({theme:"relax",text:"Post Deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))},s=function(){$("#posts-list-container>ul>li").each((function(){let t=$(this);$(".delete-post-button",t);e($(".delete-post-button",t));let n=t.prop("id").split("-")[1];console.log(n,"hello"),new PostComments(n)}))};t(),s()}