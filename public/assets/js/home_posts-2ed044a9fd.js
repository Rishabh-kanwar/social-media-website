{let t=function(){let t=$("#new-post-form");t.submit((function(s){s.preventDefault(),$.ajax({type:"post",url:"/posts/create",data:t.serialize(),success:function(t){let s=e(t.data.post);$("#posts-list-container>ul").prepend(s),n($(" .delete-post-button",s)),new PostComments(t.data.post._id),new ToggleLike($(" .toggle-like-button",s)),new Noty({theme:"relax",text:"Post published!",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))},e=function(t){return console.log(t),t.pic?$(`<li id="post-${t._id} style="margin-top: 100px;">\n             <img class="post-image" src="${t.pic}" alt="" height="400" width="400">\n         <p>\n             <big style="font-size: 35px;">\n                 <%= post.content %>\n         </big>\n             <br>\n             <small style="color: gray;">\n                 <i class="far fa-id-badge"></i>\n                 ${t.user.name}\n             </small>\n\n                 <small>\n                     <a class="delete-post-button" href="/posts/destroy/${t._id}"> <i style="margin-left: 100px;" class="fas fa-trash-alt"></i></a>\n                 </small>\n                  \n         </p>\n            \n     \n             </div>  \n            \n                 <form action="/comments/create" method="POST">\n                     <input type="text" name="content" placeholder="Type Here to add comment..." required>\n                     <input type="hidden" name="post" value="${t._id}" >\n                     <button type="submit"> <i class="far fa-plus-square"> </i></button>\n                 </form>\n                \n     </li>`):$(`<li id="post-${t._id}" >\n\n                                 <p style="margin-top: 100px;">\n                                     <big style="font-size: 35px;">\n                                         ${t.content}\n                                         <span style="font-size: 30px;">\n                                      \n                                            <a style="color: rgb(92, 92, 255); position: relative; left: -30px;" href="/likes/toggle/?id=${t._id}&type=Post"\n                                            class="toggle-like-button" data-likes="${t.likes.length}">\n                                                <i style=" color: rgb(92, 92, 255);" class="far fa-thumbs-up"></i>\n                                                    ${t.likes.length}\n                                            </a>\n                                    </span>\n                                 </big>\n                                     <br>\n                                     <small style="color: gray;">\n                                         <i class="far fa-id-badge"></i>\n                                         ${t.user.name}\n                                     </small>\n                                    \n                                         <small>\n                                             <a class="delete-post-button" href="/posts/destroy/${t._id}"> <i style="margin-left: 100px;" class="fas fa-trash-alt"></i></a>\n                                         </small>\n                                          \n                                 </p>\n                               \n                                 \n                                \n                                     <form action="/comments/create" method="POST" id="post-${t._id}-comments-form">\n                                         <input type="text" name="content" placeholder="Type Here to add comment..." required>\n                                         <input type="hidden" name="post" value="${t._id}" >\n                                         <button type="submit"> <i class="far fa-plus-square"> </i></button>\n                                     </form>\n\n                                     <div class="post-comments-list">\n                                        <ul id="post-comments-${t._id}">\n                                        </ul>\n                                     </div>\n                                    \n                         </li>`)},n=function(t){$(t).click((function(e){e.preventDefault(),console.log(t),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$("#post-"+t.data.post_id).remove(),new Noty({theme:"relax",text:"Post Deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))},s=function(){$("#posts-list-container>ul>li").each((function(){let t=$(this);$(".delete-post-button",t);n($(".delete-post-button",t));let e=t.prop("id").split("-")[1];new PostComments(e)}))};t(),s()}